DynamoDB table
=======================================================================================
Terraform uses DynamoDB table (the one you specified: terraform-state-lock) to place a 
lock whenever you run a command (plan, apply, etc.) so that two people (or processes) 
donâ€™t try to update the state at the same time.

===> Manually unlock state file with Terraform
terraform force-unlock <LOCK_ID>

Terraform is still holding on to an old state or the backend configuration wasnâ€™t refreshed.
============================================================================================
- Steps to refresh Terraform with new code
===> Reinitialize Terraform (so it re-reads your updated files):
terraform init -reconfigure

- Validate your new code to make sure there are no syntax errors:
======> terraform validate

- See what Terraform plans to do with the updated code:
=====> terraform plan

- Apply the changes:
=====> terraform apply


================================ Data Sources ==========================================
- In Terraform, there are two main things you work with:

=> 1. Resources â†’ Things Terraform creates or manages.
Example:

resource "aws_db_instance" "mydb" {
  # creates a new RDS instance
}

=> 2. Data Sources â†’ Things Terraform reads / looks up (already exist in AWS) 
so you can use them in your configuration.
Example:

data "aws_db_snapshot" "example" {
  most_recent            = true
  db_instance_identifier = "mydb-instance"
}


- So, what does data "aws_db_snapshot" mean?
It tells Terraform:
ðŸ‘‰ â€œDonâ€™t create a new snapshot. Instead, go and find an existing 
snapshot in AWS and make its information available for me to use.â€


Note
=======================================
- Resource: aws_acm_certificate_validation

resource "aws_acm_certificate" "example" {
  domain_name       = "example.com"
  validation_method = "DNS"
}

data "aws_route53_zone" "example" {
  name         = "example.com"
  private_zone = false
}

resource "aws_route53_record" "example" {
  for_each = {
    for dvo in aws_acm_certificate.example.domain_validation_options : dvo.domain_name => {
      name   = dvo.resource_record_name
      record = dvo.resource_record_value
      type   = dvo.resource_record_type
    }
  }

  allow_overwrite = true
  name            = each.value.name
  records         = [each.value.record]
  ttl             = 60
  type            = each.value.type
  zone_id         = data.aws_route53_zone.example.zone_id
}

resource "aws_acm_certificate_validation" "example" {
  certificate_arn         = aws_acm_certificate.example.arn
  validation_record_fqdns = [for record in aws_route53_record.example : record.fqdn]
}

















































